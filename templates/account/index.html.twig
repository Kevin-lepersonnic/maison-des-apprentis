{% extends 'base.html.twig' %}

{% block title %}Liste des Utilisateurs
{% endblock %}

{% block body %}
<main class="container bg-light">
    <div class="d-flex justify-content-between align-items-center">
        <h1>Index des Utilisateurs</h1>
        {# <div class="d-grid gap-2 m-4 p-3">
            <a  class="btn btn-lg btn-success" href="{{ path('app_category_new') }}">Créer une nouvelle catégorie</a>
        </div> #}
    </div>
	<table class="table table-hover text-center">
		<thead>
			<tr>
				<th>ID</th>
				<th>Avatar</th>
				<th>Nom Complet</th>
				<th>Email</th>
				<th>Articles en ligne</th>
				<th colspan="2">Modifier/Supprimer</th>
			</tr>
		</thead>
		<tbody>
		{% for user in users %}
			<tr class="table-active align-items-center">
				<td>{{user.id}}</td>
				<td><img width="70px" height="70px" class="rounded-circle mx-5" src="{{user.avatar}}" alt="{{ user.fullname }}"></td>
				<td>{{user.fullname}}</td>
				<td>{{user.email}}</td>
				<td>{{user.articles | length }}</td>
				<td>
					<a href="{{ path('user_show' , {'slug': user.slug } ) }}" class="btn btn-primary">
						Voir le profil de l'utilisateur
						<i class="fas fa-eye"></i>
					</a>
				</td>
				<td>
					<form class="d-inline" action="{{ path('user_delete' , {'slug': user.slug } ) }}" onsubmit="return confirm('Etes vous sur de vouloir supprimer cette utilisateur ?');">
						<button class="btn btn-danger">
							Supprimer cet utilisateur
							<i class="fa fa-trash"></i>
						</button>
					</form>
				</td>
			</tr>
		{% endfor %}
		</tbody>
	</table>
</main>

{% endblock %}
